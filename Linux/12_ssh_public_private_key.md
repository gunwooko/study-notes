# SSH Publice & Private key

예를 들어 현재 컴퓨터가 gunwoo1 그리고 gunwoo2 이렇게 2개기 있다.

여기서 1번 컴퓨터에서 2번컴퓨터로 로그인 하는 방법으로: `ssh gunwoo1@IP주소`를 입력하고 비밀번호를 입력하면 로그인이 가능하다. 로그아웃은 `exit`명령어로.

`ssh-keygen` 명령어는 public/pravate rsa key pair를 `사용자/.ssh/`폴더 아래에 생성한다. - `id_rsa`": private key - `id_rsa.pub`: public key

그리고서 컴퓨터2로 이동해서 `~/.ssh`안의 `authorized_keys`에 컴퓨터1에서 생성한 `id_rsa.pub`를 붙여주면 해당 컴퓨터에 로그인할때 비번입력없이 들어갈 수 있게 해줄 수 이다.

컴퓨터1에서: `cat id_rsa.pub`로 확인해주고, `ssh-copy-id gunwoo2@IP주소`를 입력하면 비밀번호를 입력하게 된다. 이후 컴퓨터2에서 `authorized_keys`를 다시 확인하면 새로운 키가 추가된 것을 확인할 수 있다.

이처럼 `authorized_keys`에는 해당 퍼블리키를 가진 사람(즉 그 키와 페어인 private key를 가진 사람)에게 비밀번호 없이 허용해주는 것이다.

## 활용

- `rsync`는 다른 컴퓨터로 전송을 하기 전에 `.ssh`폴더의 `authorized_keys`를 확인해서 우선적으로 해당 컴퓨터에 비번 없이 접속할 수 있는지를 확인한다.
- `cron`과 같은 것을 사용해서 정기적으로 다른 컴퓨터에 백업을 시킬 수도 있다.

## RSA 암호와기법

(암호화 encrypt : 복호화 decrypt)

비대칭 암호와기법을 따른다.
비대칭 암호와기법은 퍼블릭키-프리베잇키 이렇게 쌍으로 짝을 이룬다. 암호화는 프리베잇키로 복호화는 반드시 퍼블릭키로 하게 되어 있다.

SSH 서버가 random키를 SSH 클라이언트에 보내게 된다. 그리고 SSH클라에서 프리베잇키로 암호화를 해서 서버에 보내준다. 서버는 받은 암호화된 키를 자신이 가지고 있던 퍼블릭키로 복호화를 하고, 처음에 보냈던 랜덤키와 같다면 SSH클라이언트가 서버가 가지고 있는 프리베잇키를 만든 클라이언트임을 확인하게 되는 것이다.
